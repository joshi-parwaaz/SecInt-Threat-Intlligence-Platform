# SecInt v2 - Environment Configuration
# ===========================================
# SETUP INSTRUCTIONS
# ===========================================
# 1. Copy this file: cp .env.example .env (or copy manually on Windows)
# 2. Fill in your API keys from the threat feeds below
# 3. Never commit .env to git (already in .gitignore)!

# ===========================================
# THREAT INTELLIGENCE API KEYS ‚≠ê REQUIRED
# ===========================================

# AlienVault OTX API Key
# Get yours at: https://otx.alienvault.com/api
# Free tier: Unlimited requests
# Format: 64-character alphanumeric string
OTX_API_KEY=your_alienvault_otx_api_key_here

# AbuseIPDB API Key
# Get yours at: https://www.abuseipdb.com/account/api
# Free tier: 1,000 requests/day
# Format: 80-character alphanumeric string
ABUSEIPDB_API_KEY=your_abuseipdb_api_key_here

# VirusTotal API Key
# Get yours at: https://www.virustotal.com/gui/user/YOUR_USERNAME/apikey
# Free tier: 500 requests/day, 4 requests/minute
# Format: 64-character alphanumeric string
VIRUSTOTAL_API_KEY=your_virustotal_api_key_here

# URLhaus API Key (OPTIONAL - public API works without key)
# Get yours at: https://urlhaus.abuse.ch/api/
# Public API available at: https://urlhaus-api.abuse.ch/v1/urls/recent/
URLHAUS_API_KEY=

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# MongoDB Connection String
# For Docker Compose (default): mongodb://mongo:27017
# For local development: mongodb://localhost:27017
MONGO_URI=mongodb://mongo:27017

# Database Name
DB_NAME=secint

# ===========================================
# KAFKA CONFIGURATION
# ===========================================

# Kafka Bootstrap Servers
# For Docker Compose (internal): kafka:9093
# For local development (external): localhost:9092
KAFKA_SERVERS=kafka:9093

# Kafka Topics (auto-created)
KAFKA_TOPIC_RAW_IOCS=raw_iocs
KAFKA_TOPIC_ENRICHED_IOCS=enriched_iocs
KAFKA_TOPIC_ALERTS=alerts

# ===========================================
# BACKEND API CONFIGURATION
# ===========================================

# Backend API Host
BACKEND_HOST=0.0.0.0

# Backend API Port
BACKEND_PORT=8000

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://frontend:3000

# ===========================================
# FRONTEND CONFIGURATION
# ===========================================

# Backend API URL (used by React frontend)
# For Docker: http://localhost:8000
# For production: https://your-domain.com/api
REACT_APP_API_URL=http://localhost:8000

# ===========================================
# INGESTION SETTINGS
# ===========================================

# IOCs to fetch per source
OTX_PULSE_LIMIT=50
URLHAUS_URL_LIMIT=100
URLHAUS_PAYLOAD_LIMIT=100

# Ingestion interval (seconds, 0 = run once)
INGESTION_INTERVAL=0

# ===========================================
# ENRICHMENT SETTINGS
# ===========================================

# Rate limiting delay between API calls (seconds)
ENRICHMENT_RATE_LIMIT_DELAY=0.5

# Maximum IOCs to enrich per run (avoid quota exhaustion)
MAX_IPS_TO_ENRICH=50
MAX_HASHES_TO_ENRICH=20
MAX_DOMAINS_TO_ENRICH=30
MAX_URLS_TO_ENRICH=30

# ===========================================
# LOGGING CONFIGURATION
# ===========================================

# Log Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ===========================================
# DEVELOPMENT/DEBUG (Optional)
# ===========================================

# Enable debug mode (verbose logging)
DEBUG=false

# Enable Kafka debug logging
KAFKA_DEBUG=false

# ===========================================
# NOTES
# ===========================================
# - Get free API keys from the services above
# - URLhaus works without authentication
# - Keep .env file secret - never commit to git
# - For production, use secrets management (AWS Secrets Manager, HashiCorp Vault, etc.)

